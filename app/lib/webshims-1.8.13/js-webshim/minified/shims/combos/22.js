(function(){var a=Function.prototype.call,c=Object.prototype,i=Array.prototype.slice,j,g;if(!Function.prototype.bind)Function.prototype.bind=function(a){var f=this;if("function"!=typeof f)throw new TypeError;var m=i.call(arguments,1),d=function(){if(this instanceof d){var b=function(){};b.prototype=f.prototype;var b=new b,g=f.apply(b,m.concat(i.call(arguments)));return null!==g&&Object(g)===g?g:b}return f.apply(a,m.concat(i.call(arguments)))};return d};g=a.bind(c.toString);j=a.bind(c.hasOwnProperty);
if(!Array.isArray)Array.isArray=function(a){return"[object Array]"==g(a)};if(!Array.prototype.forEach)Array.prototype.forEach=function(a,f){var m=p(this),d=0,b=m.length>>>0;if("[object Function]"!=g(a))throw new TypeError;for(;d<b;)d in m&&a.call(f,m[d],d,m),d++};if(!Array.prototype.map)Array.prototype.map=function(a,f){var b=p(this),d=b.length>>>0,c=Array(d);if("[object Function]"!=g(a))throw new TypeError;for(var h=0;h<d;h++)h in b&&(c[h]=a.call(f,b[h],h,b));return c};if(!Array.prototype.filter)Array.prototype.filter=
function(a,b){var f=p(this),d=f.length>>>0,c=[];if("[object Function]"!=g(a))throw new TypeError;for(var h=0;h<d;h++)h in f&&a.call(b,f[h],h,f)&&c.push(f[h]);return c};if(!Array.prototype.every)Array.prototype.every=function(a,f){var b=p(this),d=b.length>>>0;if("[object Function]"!=g(a))throw new TypeError;for(var c=0;c<d;c++)if(c in b&&!a.call(f,b[c],c,b))return!1;return!0};if(!Array.prototype.some)Array.prototype.some=function(a,b){var f=p(this),d=f.length>>>0;if("[object Function]"!=g(a))throw new TypeError;
for(var c=0;c<d;c++)if(c in f&&a.call(b,f[c],c,f))return!0;return!1};if(!Array.prototype.reduce)Array.prototype.reduce=function(a){var f=p(this),b=f.length>>>0;if("[object Function]"!=g(a))throw new TypeError;if(!b&&1==arguments.length)throw new TypeError;var d=0,c;if(2<=arguments.length)c=arguments[1];else{do{if(d in f){c=f[d++];break}if(++d>=b)throw new TypeError;}while(1)}for(;d<b;d++)d in f&&(c=a.call(void 0,c,f[d],d,f));return c};if(!Array.prototype.reduceRight)Array.prototype.reduceRight=function(a){var f=
p(this),b=f.length>>>0;if("[object Function]"!=g(a))throw new TypeError;if(!b&&1==arguments.length)throw new TypeError;var d,b=b-1;if(2<=arguments.length)d=arguments[1];else{do{if(b in f){d=f[b--];break}if(0>--b)throw new TypeError;}while(1)}do b in this&&(d=a.call(void 0,d,f[b],b,f));while(b--);return d};if(!Array.prototype.indexOf)Array.prototype.indexOf=function(a){var f=p(this),b=f.length>>>0;if(!b)return-1;var d=0;1<arguments.length&&(d=v(arguments[1]));for(d=0<=d?d:b-Math.abs(d);d<b;d++)if(d in
f&&f[d]===a)return d;return-1};if(!Array.prototype.lastIndexOf)Array.prototype.lastIndexOf=function(a){var f=p(this),b=f.length>>>0;if(!b)return-1;var d=b-1;1<arguments.length&&(d=v(arguments[1]));for(d=0<=d?d:b-Math.abs(d);0<=d;d--)if(d in f&&a===f[d])return d;return-1};if(!Object.keys){var f=!0,b="toString,toLocaleString,valueOf,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,constructor".split(","),y=b.length,k;for(k in{toString:null})f=!1;Object.keys=function(a){if("object"!=typeof a&&"function"!=
typeof a||null===a)throw new TypeError("Object.keys called on a non-object");var c=[],g;for(g in a)j(a,g)&&c.push(g);if(f)for(g=0;g<y;g++){var d=b[g];j(a,d)&&c.push(d)}return c}}if(!Date.prototype.toISOString)Date.prototype.toISOString=function(){var a,f,b;if(!isFinite(this))throw new RangeError;a=[this.getUTCFullYear(),this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()];for(f=a.length;f--;)b=a[f],10>b&&(a[f]="0"+b);return a.slice(0,3).join("-")+"T"+
a.slice(3).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"};if(!Date.now)Date.now=function(){return(new Date).getTime()};if(!Date.prototype.toJSON)Date.prototype.toJSON=function(){if("function"!=typeof this.toISOString)throw new TypeError;return this.toISOString()};a="\t\n\u000b\u000c\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";if(!String.prototype.trim||a.trim()){var a="["+a+"]",z=RegExp("^"+a+a+"*"),h=
RegExp(a+a+"*$");String.prototype.trim=function(){return(""+this).replace(z,"").replace(h,"")}}var v=function(a){a=+a;a!==a?a=-1:0!==a&&a!==1/0&&a!==-(1/0)&&(a=(0<a||-1)*Math.floor(Math.abs(a)));return a},s="a"!="a"[0],p=function(a){if(null==a)throw new TypeError;return s&&"string"==typeof a&&a?a.split(""):Object(a)}})();
(function(a,c){var i=!(!Object.create||!Object.defineProperties||!Object.getOwnPropertyDescriptor);i&&!a.browser.msie&&Object.defineProperty&&Object.prototype.__defineGetter__&&function(){try{var a=document.createElement("foo");Object.defineProperty(a,"bar",{get:function(){return!0}});i=!!a.bar}catch(f){i=!1}a=null}();Modernizr.objectAccessor=!(!(i||Object.prototype.__defineGetter__&&Object.prototype.__lookupSetter__)||a.browser.opera&&!(11<=c.browserVersion));Modernizr.advancedObjectProperties=i;
if(!i||!Object.create||!Object.defineProperties||!Object.getOwnPropertyDescriptor||!Object.defineProperty){var j=Function.prototype.call.bind(Object.prototype.hasOwnProperty);c.objectCreate=function(a,f,b,j){var k;k=function(){};k.prototype=a;k=new k;if(!j&&!("__proto__"in k)&&!Modernizr.objectAccessor)k.__proto__=a;f&&c.defineProperties(k,f);if(b)k.options=jQuery.extend(!0,{},k.options||{},b),b=k.options;k._create&&jQuery.isFunction(k._create)&&k._create(b);return k};c.defineProperties=function(a,
f){for(var b in f)j(f,b)&&c.defineProperty(a,b,f[b]);return a};c.defineProperty=function(a,f,b){if("object"!=typeof b||null===b)return a;if(j(b,"value"))return a[f]=b.value,a;a.__defineGetter__&&("function"==typeof b.get&&a.__defineGetter__(f,b.get),"function"==typeof b.set&&a.__defineSetter__(f,b.set));return a};c.getPrototypeOf=function(a){return Object.getPrototypeOf&&Object.getPrototypeOf(a)||a.__proto__||a.constructor&&a.constructor.prototype};c.getOwnPropertyDescriptor=function(a,f){if("object"!==
typeof a&&"function"!==typeof a||null===a)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object");var b;if(Object.defineProperty&&Object.getOwnPropertyDescriptor)try{return b=Object.getOwnPropertyDescriptor(a,f)}catch(c){}b={configurable:!0,enumerable:!0,writable:!0,value:void 0};var k=a.__lookupGetter__&&a.__lookupGetter__(f),i=a.__lookupSetter__&&a.__lookupSetter__(f);if(!k&&!i){if(!j(a,f))return;b.value=a[f];return b}delete b.writable;delete b.value;b.get=b.set=void 0;if(k)b.get=
k;if(i)b.set=i;return b}}})(jQuery,jQuery.webshims);
(function(a,c,i){var j=c.audio&&c.video,g=!1;if(j)a=document.createElement("video"),c.videoBuffered="buffered"in a,g="loop"in a,i.capturingEvents("play,playing,waiting,paused,ended,durationchange,loadedmetadata,canplay,volumechange".split(",")),c.videoBuffered||(i.addPolyfill("mediaelement-native-fix",{f:"mediaelement",test:c.videoBuffered,d:["dom-support"]}),i.reTest("mediaelement-native-fix"));jQuery.webshims.register("mediaelement-core",function(a,b,c,k,i){var h=b.mediaelement,v=b.cfg.mediaelement,
s=function(b,c){var b=a(b),d={src:b.attr("src")||"",elem:b,srcProp:b.prop("src")};if(!d.src)return d;var o=b.attr("type");if(o)d.type=o,d.container=a.trim(o.split(";")[0]);else if(c||(c=b[0].nodeName.toLowerCase(),"source"==c&&(c=(b.closest("video, audio")[0]||{nodeName:"video"}).nodeName.toLowerCase())),o=h.getTypeForSrc(d.src,c))d.type=o,d.container=o;if(o=b.attr("media"))d.media=o;return d},p=swfobject.hasFlashPlayerVersion("9.0.115"),x=function(){b.ready("mediaelement-swf",function(){if(!h.createSWF)b.modules["mediaelement-swf"].test=
a.noop,b.reTest(["mediaelement-swf"],j)})};h.mimeTypes={audio:{"audio/ogg":["ogg","oga","ogm"],"audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":"mp4,mpg4,m4r,m4a,m4p,m4b,aac".split(","),"audio/wav":["wav"],"audio/3gpp":["3gp","3gpp"],"audio/webm":["webm"],"audio/fla":["flv","f4a","fla"],"application/x-mpegURL":["m3u8","m3u"]},video:{"video/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov","qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf",
"asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp","3gpp"],"video/webm":["webm"],"application/x-mpegURL":["m3u8","m3u"],"video/MP2T":["ts"]}};h.mimeTypes.source=a.extend({},h.mimeTypes.audio,h.mimeTypes.video);h.getTypeForSrc=function(b,c){if(-1!=b.indexOf("youtube.com/watch?")||-1!=b.indexOf("youtube.com/v/"))return"video/youtube";var b=b.split("?")[0].split("."),b=b[b.length-1],d;a.each(h.mimeTypes[c],function(a,c){if(-1!==c.indexOf(b))return d=a,!1});return d};h.srces=function(b,c){b=a(b);if(c)b.removeAttr("src").removeAttr("type").find("source").remove(),
a.isArray(c)||(c=[c]),c.forEach(function(a){var c=k.createElement("source");"string"==typeof a&&(a={src:a});c.setAttribute("src",a.src);a.type&&c.setAttribute("type",a.type);a.media&&c.setAttribute("media",a.media);b.append(c)});else{var c=[],d=b[0].nodeName.toLowerCase(),h=s(b,d);h.src?c.push(h):a("source",b).each(function(){h=s(this,d);h.src&&c.push(h)});return c}};a.fn.loadMediaSrc=function(b,c){return this.each(function(){c!==i&&(a(this).removeAttr("poster"),c&&a.attr(this,"poster",c));h.srces(this,
b);a(this).mediaLoad()})};h.swfMimeTypes="video/3gpp,video/x-msvideo,video/quicktime,video/x-m4v,video/mp4,video/m4p,video/x-flv,video/flv,audio/mpeg,audio/aac,audio/mp4,audio/x-m4a,audio/m4a,audio/mp3,audio/x-fla,audio/fla,youtube/flv,jwplayer/jwplayer,video/youtube".split(",");h.canSwfPlaySrces=function(b,c){var d="";p&&(b=a(b),c=c||h.srces(b),a.each(c,function(a,b){if(b.container&&b.src&&-1!=h.swfMimeTypes.indexOf(b.container))return d=b,!1}));return d};var n={};h.canNativePlaySrces=function(b,
c){var d="";if(j){var b=a(b),o=(b[0].nodeName||"").toLowerCase();if(!n[o])return d;c=c||h.srces(b);a.each(c,function(a,c){if(c.type&&n[o].prop._supvalue.call(b[0],c.type))return d=c,!1})}return d};h.setError=function(c,d){d||(d="can't play sources");a(c).pause().data("mediaerror",d);b.warn("mediaelementError: "+d);setTimeout(function(){a(c).data("mediaerror")&&a(c).trigger("mediaerror")},1)};var m=function(){var a;return function(c,d,f){b.ready("mediaelement-swf",function(){h.createSWF?h.createSWF(c,
d,f):a||(a=!0,x(),m(c,d,f))})}}(),d=function(a,b,c,f,g){c||!1!==c&&b&&"flash"==b.isActive?(c=h.canSwfPlaySrces(a,f))?m(a,c,b):g?h.setError(a,!1):d(a,b,!1,f,!0):(c=h.canNativePlaySrces(a,f))?b&&"flash"==b.isActive&&h.setActive(a,"html5",b):g?(h.setError(a,!1),b&&"flash"==b.isActive&&h.setActive(a,"html5",b)):d(a,b,!0,f,!0)},C=/^(?:embed|object|datalist)$/i,u=function(c,g){var k=b.data(c,"mediaelementBase")||b.data(c,"mediaelementBase",{}),o=h.srces(c),j=c.parentNode;clearTimeout(k.loadTimer);a.data(c,
"mediaerror",!1);if(o.length&&j&&!(1!=j.nodeType||C.test(j.nodeName||"")))g=g||b.data(c,"mediaelement"),d(c,g,v.preferFlash||i,o)};a(k).bind("ended",function(c){var d=b.data(c.target,"mediaelement");(!g||d&&"html5"!=d.isActive||a.prop(c.target,"loop"))&&setTimeout(function(){!a.prop(c.target,"paused")&&a.prop(c.target,"loop")&&a(c.target).prop("currentTime",0).play()},1)});g||b.defineNodeNamesBooleanProperty(["audio","video"],"loop");["audio","video"].forEach(function(c){var d=b.defineNodeNameProperty(c,
"load",{prop:{value:function(){var a=b.data(this,"mediaelement");u(this,a);j&&(!a||"html5"==a.isActive)&&d.prop._supvalue&&d.prop._supvalue.apply(this,arguments)}}});n[c]=b.defineNodeNameProperty(c,"canPlayType",{prop:{value:function(b){var d="";j&&n[c].prop._supvalue&&(d=n[c].prop._supvalue.call(this,b),"no"==d&&(d=""));!d&&p&&(b=a.trim((b||"").split(";")[0]),-1!=h.swfMimeTypes.indexOf(b)&&(d="maybe"));return d}}})});b.onNodeNamesPropertyModify(["audio","video"],["src","poster"],{set:function(){var a=
this,c=b.data(a,"mediaelementBase")||b.data(a,"mediaelementBase",{});clearTimeout(c.loadTimer);c.loadTimer=setTimeout(function(){u(a);a=null},9)}});c=function(){b.addReady(function(c,d){a("video, audio",c).add(d.filter("video, audio")).each(function(){a.browser.msie&&8<b.browserVersion&&a.prop(this,"paused")&&!a.prop(this,"readyState")&&a(this).is('audio[preload="none"][controls]:not([autoplay])')?a(this).prop("preload","metadata").mediaLoad():u(this);if(j){var c,d,h=this,g=function(){var b=a.prop(h,
"buffered");if(b){for(var c="",d=0,g=b.length;d<g;d++)c+=b.end(d);return c}},k=function(){var b=g();b!=d&&(d=b,a(h).triggerHandler("progress"))};a(this).bind("play loadstart progress",function(a){"progress"==a.type&&(d=g());clearTimeout(c);c=setTimeout(k,999)}).bind("emptied stalled mediaerror abort suspend",function(a){"emptied"==a.type&&(d=!1);clearTimeout(c)})}})})};j?(b.isReady("mediaelement-core",!0),c(),p&&b.ready("WINDOWLOAD mediaelement",x)):b.ready("mediaelement-swf",c)})})(jQuery,Modernizr,
jQuery.webshims);
jQuery.webshims.register("mediaelement-swf",function(a,c,i,j,g,f){var b=c.mediaelement,y=i.swfobject,k=Modernizr.audio&&Modernizr.video,z=y.hasFlashPlayerVersion("9.0.115"),h=0,i={paused:!0,ended:!1,currentSrc:"",duration:i.NaN,readyState:0,networkState:0,videoHeight:0,videoWidth:0,error:null,buffered:{start:function(a){if(a)c.error("buffered index size error");else return 0},end:function(a){if(a)c.error("buffered index size error");else return 0},length:0}},v=Object.keys(i),s={currentTime:0,volume:1,
muted:!1};Object.keys(s);var p=a.extend({isActive:"html5",activating:"html5",wasSwfReady:!1,_bufferedEnd:0,_bufferedStart:0,_metadata:!1,_durationCalcs:-1,_callMeta:!1,currentTime:0,_ppFlag:g},i,s),x=/^jwplayer-/,n=function(a){if(a=j.getElementById(a.replace(x,"")))return a=c.data(a,"mediaelement"),"flash"==a.isActive?a:null},m=function(a){return(a=c.data(a,"mediaelement"))&&"flash"==a.isActive?a:null},d=function(l,e){e=a.Event(e);e.preventDefault();a.event.trigger(e,g,l)},C=f.playerPath||c.cfg.basePath+
"jwplayer/"+(f.playerName||"player.swf"),u=f.pluginPath||c.cfg.basePath+"swf/jwwebshims.swf";c.extendUNDEFProp(f.jwParams,{allowscriptaccess:"always",allowfullscreen:"true",wmode:"transparent"});c.extendUNDEFProp(f.jwVars,{screencolor:"ffffffff"});c.extendUNDEFProp(f.jwAttrs,{bgcolor:"#000000"});var D=function(l,e){var c=l.duration;if(!(c&&0<l._durationCalcs)){try{if(l.duration=l.jwapi.getPlaylist()[0].duration,!l.duration||0>=l.duration||l.duration===l._lastDuration)l.duration=c}catch(f){}l.duration&&
l.duration!=l._lastDuration?(d(l._elem,"durationchange"),("audio"==l._elemNodeName||l._callMeta)&&b.jwEvents.Model.META(a.extend({duration:l.duration},e),l),l._durationCalcs--):l._durationCalcs++}},q=function(a,e){3>a&&clearTimeout(e._canplaythroughTimer);if(3<=a&&3>e.readyState)e.readyState=a,d(e._elem,"canplay"),clearTimeout(e._canplaythroughTimer),e._canplaythroughTimer=setTimeout(function(){q(4,e)},4E3);if(4<=a&&4>e.readyState)e.readyState=a,d(e._elem,"canplaythrough");e.readyState=a};b.jwEvents=
{View:{PLAY:function(a){var e=n(a.id);if(e&&!e.stopPlayPause&&(e._ppFlag=!0,e.paused==a.state)){e.paused=!a.state;if(e.ended)e.ended=!1;d(e._elem,a.state?"play":"pause")}}},Model:{BUFFER:function(l){var e=n(l.id);if(e&&"percentage"in l&&e._bufferedEnd!=l.percentage){e.networkState=100==l.percentage?1:2;(isNaN(e.duration)||5<l.percentage&&25>l.percentage||100===l.percentage)&&D(e,l);if(e.ended)e.ended=!1;if(e.duration){2<l.percentage&&20>l.percentage?q(3,e):20<l.percentage&&q(4,e);if(e._bufferedEnd&&
e._bufferedEnd>l.percentage)e._bufferedStart=e.currentTime||0;e._bufferedEnd=l.percentage;e.buffered.length=1;if(100==l.percentage)e.networkState=1,q(4,e);a.event.trigger("progress",g,e._elem,!0)}}},META:function(a,e){if(e=e&&e.networkState?e:n(a.id))if("duration"in a){if(!e._metadata||!((!a.height||e.videoHeight==a.height)&&a.duration===e.duration)){e._metadata=!0;var b=e.duration;if(a.duration)e.duration=a.duration;e._lastDuration=e.duration;if(a.height||a.width)e.videoHeight=a.height||0,e.videoWidth=
a.width||0;if(!e.networkState)e.networkState=2;1>e.readyState&&q(1,e);e.duration&&b!==e.duration&&d(e._elem,"durationchange");d(e._elem,"loadedmetadata")}}else e._callMeta=!0},TIME:function(a){var e=n(a.id);if(e&&e.currentTime!==a.position){e.currentTime=a.position;e.duration&&e.duration<e.currentTime&&D(e,a);2>e.readyState&&q(2,e);if(e.ended)e.ended=!1;d(e._elem,"timeupdate")}},STATE:function(a){var e=n(a.id);if(e)switch(a.newstate){case "BUFFERING":if(e.ended)e.ended=!1;q(1,e);d(e._elem,"waiting");
break;case "PLAYING":e.paused=!1;e._ppFlag=!0;e.duration||D(e,a);3>e.readyState&&q(3,e);if(e.ended)e.ended=!1;d(e._elem,"playing");break;case "PAUSED":if(!e.paused&&!e.stopPlayPause)e.paused=!0,e._ppFlag=!0,d(e._elem,"pause");break;case "COMPLETED":4>e.readyState&&q(4,e),e.ended=!0,d(e._elem,"ended")}}},Controller:{ERROR:function(a){var e=n(a.id);e&&b.setError(e._elem,a.message)},SEEK:function(a){var e=n(a.id);if(e){if(e.ended)e.ended=!1;if(e.paused)try{e.jwapi.sendEvent("play","false")}catch(b){}if(e.currentTime!=
a.position)e.currentTime=a.position,d(e._elem,"timeupdate")}},VOLUME:function(a){var e=n(a.id);if(e&&(a=a.percentage/100,e.volume!=a))e.volume=a,d(e._elem,"volumechange")},MUTE:function(a){if(!a.state){var e=n(a.id);if(e&&e.muted!=a.state)e.muted=a.state,d(e._elem,"volumechange")}}}};var J=function(c){var e=!0;a.each(b.jwEvents,function(b,d){a.each(d,function(a){try{c.jwapi["add"+b+"Listener"](a,"jQuery.webshims.mediaelement.jwEvents."+b+"."+a)}catch(d){return e=!1}})});return e},o=function(a){var e=
a.actionQueue.length,b=0,c;if(e&&"flash"==a.isActive)for(;a.actionQueue.length&&e>b;)b++,c=a.actionQueue.shift(),a.jwapi[c.fn].apply(a.jwapi,c.args);if(a.actionQueue.length)a.actionQueue=[]},G=function(b){b&&(b._ppFlag===g&&a.prop(b._elem,"autoplay")||!b.paused)&&setTimeout(function(){if("flash"==b.isActive&&(b._ppFlag===g||!b.paused))try{a(b._elem).play()}catch(e){}},1)},K=function(b){if(b&&"video"==b._elemNodeName){var e,c,d,f,h,r,g,k,i=function(i,j){if(j&&i&&!(1>j||1>i||"flash"!=b.isActive))if(e&&
(e.remove(),e=!1),f=i,h=j,clearTimeout(g),c="auto"==b._elem.style.width,d="auto"==b._elem.style.height,c||d){r=r||a(b._elem).getShadowElement();var m;c&&!d?(m=r.height(),i*=m/j,j=m):!c&&d&&(m=r.width(),j*=m/i,i=m);k=!0;setTimeout(function(){k=!1},9);r.css({width:i,height:j})}},j=function(){if(!("flash"!=b.isActive||a.prop(b._elem,"readyState")&&a.prop(this,"videoWidth"))){var f=a.prop(b._elem,"poster");if(f&&(c="auto"==b._elem.style.width,d="auto"==b._elem.style.height,c||d))e&&(e.remove(),e=!1),
e=a('<img style="position: absolute; height: auto; width: auto; top: 0px; left: 0px; visibility: hidden;" />'),e.bind("load error alreadycomplete",function(){clearTimeout(g);var b=this,c=b.naturalWidth||b.width||b.offsetWidth,d=b.naturalHeight||b.height||b.offsetHeight;d&&c?(i(c,d),b=null):setTimeout(function(){c=b.naturalWidth||b.width||b.offsetWidth;d=b.naturalHeight||b.height||b.offsetHeight;i(c,d);e&&(e.remove(),e=!1);b=null},9);a(this).unbind()}).prop("src",f).appendTo("body").each(function(){this.complete||
this.error?a(this).triggerHandler("alreadycomplete"):(clearTimeout(g),g=setTimeout(function(){a(b._elem).triggerHandler("error")},9999))})}};a(b._elem).bind("loadedmetadata",function(){i(a.prop(this,"videoWidth"),a.prop(this,"videoHeight"))}).bind("emptied",j).bind("swfstageresize updatemediaelementdimensions",function(){k||i(f,h)}).bind("emptied",function(){f=void 0;h=void 0}).triggerHandler("swfstageresize");j();a.prop(b._elem,"readyState")&&i(a.prop(b._elem,"videoWidth"),a.prop(b._elem,"videoHeight"))}};
b.playerResize=function(b){b&&(b=j.getElementById(b.replace(x,"")))&&a(b).triggerHandler("swfstageresize")};a(j).bind("emptied",function(a){a=m(a.target);G(a)});var A;b.jwPlayerReady=function(b){var e=n(b.id),d=0,f=function(){if(!(9<d))if(d++,J(e)){if(e.wasSwfReady)a(e._elem).mediaLoad();else{var h=parseFloat(b.version,10);(5.6>h||6<=h)&&c.warn("mediaelement-swf is only testet with jwplayer 5.6+")}e.wasSwfReady=!0;e.tryedReframeing=0;o(e);G(e)}else clearTimeout(e.reframeTimer),e.reframeTimer=setTimeout(f,
9*d),2<d&&9>e.tryedReframeing&&(e.tryedReframeing++,e.shadowElem.css({overflow:"visible"}),setTimeout(function(){e.shadowElem.css({overflow:"hidden"})},16))};if(e&&e.jwapi){if(!e.tryedReframeing)e.tryedReframeing=0;clearTimeout(A);e.jwData=b;e.shadowElem.removeClass("flashblocker-assumed");a.prop(e._elem,"volume",e.volume);a.prop(e._elem,"muted",e.muted);f()}};var E=a.noop;if(k){var L={play:1,playing:1},H="play,pause,playing,canplay,progress,waiting,ended,loadedmetadata,durationchange,emptied".split(","),
I=H.map(function(a){return a+".webshimspolyfill"}).join(" "),M=function(b){var e=c.data(b.target,"mediaelement");e&&(b.originalEvent&&b.originalEvent.type===b.type)==("flash"==e.activating)&&(b.stopImmediatePropagation(),L[b.type]&&e.isActive!=e.activating&&a(b.target).pause())},E=function(b){a(b).unbind(I).bind(I,M);H.forEach(function(a){c.moveToFirstEvent(b,a)})};E(j)}b.setActive=function(b,e,d){d||(d=c.data(b,"mediaelement"));if(d&&d.isActive!=e){"html5"!=e&&"flash"!=e&&c.warn("wrong type for mediaelement activating: "+
e);var f=c.data(b,"shadowData");d.activating=e;a(b).pause();d.isActive=e;"flash"==e?(f.shadowElement=f.shadowFocusElement=d.shadowElem[0],a(b).hide().getShadowElement().show()):(a(b).show().getShadowElement().hide(),f.shadowElement=f.shadowFocusElement=!1)}};var N=function(){var a="_bufferedEnd,_bufferedStart,_metadata,_ppFlag,currentSrc,currentTime,duration,ended,networkState,paused,videoHeight,videoWidth,_callMeta,_durationCalcs".split(","),b=a.length;return function(c){if(c){var f=b,h=c.networkState;
for(q(0,c);--f;)delete c[a[f]];c.actionQueue=[];c.buffered.length=0;h&&d(c._elem,"emptied")}}}(),F=function(b,e){var c=b._elem,d=b.shadowElem;a(c)[e?"addClass":"removeClass"]("webshims-controls");"audio"==b._elemNodeName&&!e?d.css({width:0,height:0}):d.css({width:c.style.width||a(c).width(),height:c.style.height||a(c).height()})};b.createSWF=function(d,e,g){if(z){1>h?h=1:h++;var i=a.extend({},f.jwVars,{image:a.prop(d,"poster")||"",file:e.srcProp}),j=a(d).data("jwvars")||{};g||(g=c.data(d,"mediaelement"));
if(g&&g.swfCreated)b.setActive(d,"flash",g),N(g),g.currentSrc=e.srcProp,a.extend(i,j),f.changeJW(i,d,e,g,"load"),w(d,"sendEvent",["LOAD",i]);else{var B=a.prop(d,"controls"),r="jwplayer-"+c.getID(d),m=a.extend({},f.jwParams,a(d).data("jwparams")),n=d.nodeName.toLowerCase(),o=a.extend({},f.jwAttrs,{name:r,id:r},a(d).data("jwattrs")),q=a('<div class="polyfill-'+n+' polyfill-mediaelement" id="wrapper-'+r+'"><div id="'+r+'"></div>').css({position:"relative",overflow:"hidden"}),g=c.data(d,"mediaelement",
c.objectCreate(p,{actionQueue:{value:[]},shadowElem:{value:q},_elemNodeName:{value:n},_elem:{value:d},currentSrc:{value:e.srcProp},swfCreated:{value:!0},buffered:{value:{start:function(a){if(a>=g.buffered.length)c.error("buffered index size error");else return 0},end:function(a){if(a>=g.buffered.length)c.error("buffered index size error");else return(g.duration-g._bufferedStart)*g._bufferedEnd/100+g._bufferedStart},length:0}}}));F(g,B);q.insertBefore(d);k&&a.extend(g,{volume:a.prop(d,"volume"),muted:a.prop(d,
"muted")});a.extend(i,{id:r,controlbar:B?f.jwVars.controlbar||("video"==n?"over":"bottom"):"video"==n?"none":"bottom",icons:""+(B&&"video"==n)},j,{playerready:"jQuery.webshims.mediaelement.jwPlayerReady"});i.plugins=i.plugins?i.plugins+(","+u):u;c.addShadowDom(d,q);E(d);b.setActive(d,"flash",g);f.changeJW(i,d,e,g,"embed");a(d).bind("updatemediaelementdimensions",function(){F(g,a.prop(d,"controls"))});K(g);y.embedSWF(C,r,"100%","100%","9.0.0",!1,i,m,o,function(b){if(b.success)g.jwapi=b.ref,B||a(b.ref).attr("tabindex",
"-1").css("outline","none"),setTimeout(function(){if(!b.ref.parentNode&&q[0].parentNode||"none"==b.ref.style.display)q.addClass("flashblocker-assumed"),a(d).trigger("flashblocker"),c.warn("flashblocker assumed");a(b.ref).css({minHeight:"2px",minWidth:"2px",display:"block"})},9),A||(clearTimeout(A),A=setTimeout(function(){var e=a(b.ref);1<e[0].offsetWidth&&1<e[0].offsetHeight&&0===location.protocol.indexOf("file:")?c.error("Add your local development-directory to the local-trusted security sandbox:  http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html"):
(2>e[0].offsetWidth||2>e[0].offsetHeight)&&c.info("JS-SWF connection can't be established on hidden or unconnected flash objects")},8E3))})}}else setTimeout(function(){a(d).mediaLoad()},1)};var w=function(a,b,c,d){return(d=d||m(a))?(d.jwapi&&d.jwapi[b]?d.jwapi[b].apply(d.jwapi,c||[]):(d.actionQueue.push({fn:b,args:c}),10<d.actionQueue.length&&setTimeout(function(){5<d.actionQueue.length&&d.actionQueue.shift()},99)),d):!1};["audio","video"].forEach(function(b){var e={},f,g=function(a){"audio"==b&&
("videoHeight"==a||"videoWidth"==a)||(e[a]={get:function(){var b=m(this);return b?b[a]:k&&f[a].prop._supget?f[a].prop._supget.apply(this):p[a]},writeable:!1})},h=function(a,b){g(a);delete e[a].writeable;e[a].set=b};h("volume",function(a){var b=m(this);if(b){if(a*=100,!isNaN(a)){var e=b.muted;(0>a||100<a)&&c.error("volume greater or less than allowed "+a/100);w(this,"sendEvent",["VOLUME",a],b);if(e)try{b.jwapi.sendEvent("mute","true")}catch(g){}a/=100;if(!(b.volume==a||"flash"!=b.isActive))b.volume=
a,d(b._elem,"volumechange")}}else if(f.volume.prop._supset)return f.volume.prop._supset.apply(this,arguments)});h("muted",function(a){var b=m(this);if(b){if(a=!!a,w(this,"sendEvent",["mute",""+a],b),!(b.muted==a||"flash"!=b.isActive))b.muted=a,d(b._elem,"volumechange")}else if(f.muted.prop._supset)return f.muted.prop._supset.apply(this,arguments)});h("currentTime",function(a){var b=m(this);if(b){if(a*=1,!isNaN(a)){if(b.paused)clearTimeout(b.stopPlayPause),b.stopPlayPause=setTimeout(function(){b.paused=
!0;b.stopPlayPause=!1},50);w(this,"sendEvent",["SEEK",""+a],b);if(b.paused){if(0<b.readyState)b.currentTime=a,d(b._elem,"timeupdate");try{b.jwapi.sendEvent("play","false")}catch(e){}}}}else if(f.currentTime.prop._supset)return f.currentTime.prop._supset.apply(this,arguments)});["play","pause"].forEach(function(a){e[a]={value:function(){var b=m(this);if(b)b.stopPlayPause&&clearTimeout(b.stopPlayPause),w(this,"sendEvent",["play","play"==a],b),setTimeout(function(){if("flash"==b.isActive&&(b._ppFlag=
!0,b.paused!=("play"!=a)))b.paused="play"!=a,d(b._elem,a)},1);else if(f[a].prop._supvalue)return f[a].prop._supvalue.apply(this,arguments)}}});v.forEach(g);c.onNodeNamesPropertyModify(b,"controls",function(e,d){var f=m(this);a(this)[d?"addClass":"removeClass"]("webshims-controls");if(f){try{w(this,d?"showControls":"hideControls",[b],f)}catch(g){c.warn("you need to generate a crossdomain.xml")}"audio"==b&&F(f,d);a(f.jwapi).attr("tabindex",d?"0":"-1")}});f=c.defineNodeNameProperties(b,e,"prop")});if(z){var O=
a.cleanData,P=a.browser.msie&&9>c.browserVersion,Q={object:1,OBJECT:1};a.cleanData=function(a){var b,c,d;if(a&&(c=a.length)&&h)for(b=0;b<c;b++)if(Q[a[b].nodeName]){if("sendEvent"in a[b]){h--;try{a[b].sendEvent("play",!1)}catch(f){}}if(P)try{for(d in a[b])"function"==typeof a[b][d]&&(a[b][d]=null)}catch(g){}}return O.apply(this,arguments)}}if(!k){var t=j.createElement("a");t.style.display="none";["poster","src"].forEach(function(b){c.defineNodeNamesProperty("src"==b?["audio","video","source"]:["video"],
b,{prop:{get:function(){var e=this.getAttribute(b),c;if(null==e)return"";t.setAttribute("href",e+"");if(!a.support.hrefNormalized){try{a(t).appendTo(this),c=t.getAttribute("href",4)}catch(d){c=t.getAttribute("href",4)}a(t).detach()}return c||t.href},set:function(c){a.attr(this,b,c)}}})});["autoplay","controls"].forEach(function(a){c.defineNodeNamesBooleanProperty(["audio","video"],a)});c.defineNodeNamesProperties(["audio","video"],{HAVE_CURRENT_DATA:{value:2},HAVE_ENOUGH_DATA:{value:4},HAVE_FUTURE_DATA:{value:3},
HAVE_METADATA:{value:1},HAVE_NOTHING:{value:0},NETWORK_EMPTY:{value:0},NETWORK_IDLE:{value:1},NETWORK_LOADING:{value:2},NETWORK_NO_SOURCE:{value:3}},"prop")}});
