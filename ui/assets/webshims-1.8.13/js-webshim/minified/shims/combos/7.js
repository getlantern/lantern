jQuery.webshims.register("form-extend",function(c,e,m,j,t,i){m=m.Modernizr;t=m.inputtypes;if(m.formvalidation&&!e.bugs.bustedValidity){var f=e.inputTypes,s={};e.addInputType=function(d,l){f[d]=l};e.addValidityRule=function(d,l){s[d]=l};e.addValidityRule("typeMismatch",function(d,l,b,c){if(""===l)return!1;c=c.typeMismatch;if(!("type"in b))b.type=(d[0].getAttribute("type")||"").toLowerCase();f[b.type]&&f[b.type].mismatch&&(c=f[b.type].mismatch(l,d));return c});var o=i.overrideMessages,n=!t.number||
!t.time||!t.range||o,v="customError,typeMismatch,rangeUnderflow,rangeOverflow,stepMismatch,tooLong,patternMismatch,valueMissing,valid".split(","),i=o?["value","checked"]:["value"],p=[],g=function(d,b){if(d){var a=(d.getAttribute&&d.getAttribute("type")||d.type||"").toLowerCase();if(o||f[a])o&&!b&&"radio"==a&&d.name?c(j.getElementsByName(d.name)).each(function(){c.prop(this,"validity")}):c.prop(d,"validity")}},r={};["input","textarea","select"].forEach(function(d){var b=e.defineNodeNameProperty(d,
"setCustomValidity",{prop:{value:function(a){var a=a+"",k="input"==d?c(this).getNativeElement()[0]:this;b.prop._supvalue.call(k,a);e.bugs.validationMessage&&e.data(k,"customvalidationMessage",a);n&&(e.data(k,"hasCustomError",!!a),g(k))}}});r[d]=b.prop._supvalue});if(n||o)i.push("min"),i.push("max"),i.push("step"),p.push("input");o&&(i.push("required"),i.push("pattern"),p.push("select"),p.push("textarea"));if(n){var u;p.forEach(function(d){var b=e.defineNodeNameProperty(d,"validity",{prop:{get:function(){if(!u){var a=
"input"==d?c(this).getNativeElement()[0]:this,k=b.prop._supget.call(a);if(!k)return k;var h={};v.forEach(function(d){h[d]=k[d]});if(!c.prop(a,"willValidate"))return h;u=!0;var i=c(a),q={type:(a.getAttribute&&a.getAttribute("type")||"").toLowerCase(),nodeName:(a.nodeName||"").toLowerCase()},x=i.val(),w=!!e.data(a,"hasCustomError"),g;u=!1;h.customError=w;if(h.valid&&h.customError)h.valid=!1;else if(!h.valid){var m=!0;c.each(h,function(d,b){if(b)return m=!1});if(m)h.valid=!0}c.each(s,function(b,l){h[b]=
l(i,x,q,h);if(h[b]&&(h.valid||!g)&&(o||f[q.type]&&f[q.type].mismatch))r[d].call(a,e.createValidationMessage(a,b)),h.valid=!1,g=!0});h.valid?(r[d].call(a,""),e.data(a,"hasCustomError",!1)):o&&!g&&!w&&c.each(h,function(b,l){if("valid"!==b&&l)return r[d].call(a,e.createValidationMessage(a,b)),!1});return h}},writeable:!1}})});i.forEach(function(d){e.onNodeNamesPropertyModify(p,d,function(){g(this)})});if(j.addEventListener){var a,k=function(d){if("form"in d.target){var b=d.target.form;clearTimeout(a);
g(d.target);b&&o&&c("input",b).each(function(){"password"==this.type&&g(this)})}};j.addEventListener("change",k,!0);o&&(j.addEventListener("blur",k,!0),j.addEventListener("keydown",function(d){13==d.keyCode&&k(d)},!0));j.addEventListener("input",function(d){clearTimeout(a);a=setTimeout(function(){g(d.target)},290)},!0)}var b=p.join(",");e.addReady(function(d,a){c(b,d).add(a.filter(b)).each(function(){c.prop(this,"validity")})});o&&e.ready("DOM form-message",function(){e.activeLang({register:"form-core",
callback:function(){c("input, select, textarea").getNativeElement().each(function(){if(!e.data(this,"hasCustomError")){var d=this,b=c.prop(d,"validity")||{valid:!0},a;b.valid||(a=(d.nodeName||"").toLowerCase(),c.each(b,function(b,c){if("valid"!==b&&c)return r[a].call(d,e.createValidationMessage(d,b)),!1}))}})}})})}e.defineNodeNameProperty("input","type",{prop:{get:function(){var b=(this.getAttribute("type")||"").toLowerCase();return e.inputTypes[b]?b:this.type}}});m.input.list&&!(c("<datalist><select><option></option></select></datalist>").prop("options")||
[]).length&&e.defineNodeNameProperty("datalist","options",{prop:{writeable:!1,get:function(){var b=this.options||[];if(!b.length){var a=c("select",this);if(a[0]&&a[0].options&&a[0].options.length)b=a[0].options}return b}}})}});
jQuery.webshims.register("form-number-date-api",function(c,e){var m,j,t;if(!e.getStep)e.getStep=function(a,e){var b=c.attr(a,"step");if("any"===b)return b;e=e||n(a);if(!f[e]||!f[e].step)return b;b=m.asNumber(b);return(!isNaN(b)&&0<b?b:f[e].step)*f[e].stepScaleFactor};if(!e.addMinMaxNumberToCache)e.addMinMaxNumberToCache=function(a,c,b){a+"AsNumber"in b||(b[a+"AsNumber"]=f[b.type].asNumber(c.attr(a)),isNaN(b[a+"AsNumber"])&&a+"Default"in f[b.type]&&(b[a+"AsNumber"]=f[b.type][a+"Default"]))};var i=
parseInt("NaN",10),f=e.inputTypes,s=function(a){return"number"==typeof a||a&&a==1*a},o=function(a){return c('<input type="'+a+'" />').prop("type")===a},n=function(a){return(a.getAttribute("type")||"").toLowerCase()},v=e.addMinMaxNumberToCache,p=function(a,c){for(var a=""+a,c=c-a.length,b=0;b<c;b++)a="0"+a;return a},g=e.bugs.valueAsNumberSet||e.bugs.bustedValidity;e.addValidityRule("stepMismatch",function(a,c,b,d){if(""===c)return!1;if(!("type"in b))b.type=n(a[0]);if("date"==b.type)return!1;d=(d||
{}).stepMismatch;if(f[b.type]&&f[b.type].step){if(!("step"in b))b.step=e.getStep(a[0],b.type);if("any"==b.step)return!1;if(!("valueAsNumber"in b))b.valueAsNumber=f[b.type].asNumber(c);if(isNaN(b.valueAsNumber))return!1;v("min",a,b);a=b.minAsNumber;isNaN(a)&&(a=f[b.type].stepBase||0);d=Math.abs((b.valueAsNumber-a)%b.step);d=!(1.0E-7>=d||1.0E-7>=Math.abs(d-b.step))}return d});[{name:"rangeOverflow",attr:"max",factor:1},{name:"rangeUnderflow",attr:"min",factor:-1}].forEach(function(a){e.addValidityRule(a.name,
function(c,b,d,l){l=(l||{})[a.name]||!1;if(""===b)return l;if(!("type"in d))d.type=n(c[0]);if(f[d.type]&&f[d.type].asNumber){if(!("valueAsNumber"in d))d.valueAsNumber=f[d.type].asNumber(b);if(isNaN(d.valueAsNumber))return!1;v(a.attr,c,d);if(isNaN(d[a.attr+"AsNumber"]))return l;l=d[a.attr+"AsNumber"]*a.factor<d.valueAsNumber*a.factor-1.0E-7}return l})});e.reflectProperties(["input"],["max","min","step"]);var r=e.defineNodeNameProperty("input","valueAsNumber",{prop:{get:function(){var a=n(this),a=f[a]&&
f[a].asNumber?f[a].asNumber(c.prop(this,"value")):r.prop._supget&&r.prop._supget.apply(this,arguments);null==a&&(a=i);return a},set:function(a){var k=n(this);f[k]&&f[k].numberToString?isNaN(a)?c.prop(this,"value",""):(k=f[k].numberToString(a),!1!==k?c.prop(this,"value",k):e.warn("INVALID_STATE_ERR: DOM Exception 11")):r.prop._supset&&r.prop._supset.apply(this,arguments)}}}),u=e.defineNodeNameProperty("input","valueAsDate",{prop:{get:function(){var a=n(this);return f[a]&&f[a].asDate&&!f[a].noAsDate?
f[a].asDate(c.prop(this,"value")):u.prop._supget&&u.prop._supget.call(this)||null},set:function(a){var k=n(this);if(f[k]&&f[k].dateToString&&!f[k].noAsDate){if(null===a)return c.prop(this,"value",""),"";k=f[k].dateToString(a);if(!1!==k)return c.prop(this,"value",k),k;e.warn("INVALID_STATE_ERR: DOM Exception 11")}else return u.prop._supset&&u.prop._supset.apply(this,arguments)||null}}});m={mismatch:function(c){return!s(c)},step:1,stepScaleFactor:1,asNumber:function(c){return s(c)?1*c:i},numberToString:function(c){return s(c)?
c:!1}};j={minDefault:0,maxDefault:100};t={mismatch:function(a){if(!a||!a.split||!/\d$/.test(a))return!0;var e=a.split(/\u002D/);if(3!==e.length)return!0;var b=!1;c.each(e,function(d,c){if(!(s(c)||c&&c=="0"+1*c))return b=!0,!1});if(b)return b;if(4!==e[0].length||2!=e[1].length||12<e[1]||2!=e[2].length||33<e[2])b=!0;return a!==this.dateToString(this.asDate(a,!0))},step:1,stepScaleFactor:864E5,asDate:function(c,e){return!e&&this.mismatch(c)?null:new Date(this.asNumber(c,!0))},asNumber:function(c,e){var b=
i;if(e||!this.mismatch(c))c=c.split(/\u002D/),b=Date.UTC(c[0],c[1]-1,c[2]);return b},numberToString:function(c){return s(c)?this.dateToString(new Date(1*c)):!1},dateToString:function(c){return c&&c.getFullYear?c.getUTCFullYear()+"-"+p(c.getUTCMonth()+1,2)+"-"+p(c.getUTCDate(),2):!1}};if(g||!o("range")||!o("time"))j=c.extend({},m,j);(g||!o("number"))&&e.addInputType("number",m);(g||!o("range"))&&e.addInputType("range",j);(g||!o("date"))&&e.addInputType("date",t)});
jQuery.webshims.register("form-number-date-ui",function(c,e,m,j,t,i){var f=e.triggerInlineForm,s=Modernizr.inputtypes,o=function(){var c={"padding-box":"innerWidth","border-box":"outerWidth","content-box":"width"},d=Modernizr.prefixed&&Modernizr.prefixed("boxSizing");return function(l,a){var e,h,f;h="width";d&&(h=c[l.css(d)]||h);e=l[h]();h="width"==h;if(e){var q=parseInt(a.css("marginLeft"),10)||0,i=a.outerWidth();(f=parseInt(l.css("marginRight"),10)||0)&&l.css("marginRight",0);q<=-1*i?(a.css("marginRight",
Math.floor(Math.abs(i+q)+f)),l.css("paddingRight",(parseInt(l.css("paddingRight"),10)||0)+Math.abs(q)),h&&l.css("width",Math.floor(e+q))):(a.css("marginRight",f),l.css("width",Math.floor(e-q-i)))}}}(),n={},v=c([]),p,g=function(b,d){c("input",b).add(d.filter("input")).each(function(){var b=c.prop(this,"type");if(g[b]&&!e.data(this,"shadowData"))g[b](c(this))})},r=function(b,d){if(i.lazyDate){var a=c.data(b[0],"setDateLazyTimer");a&&clearTimeout(a);c.data(b[0],"setDateLazyTimer",setTimeout(function(){b.datepicker("setDate",
d);c.removeData(b[0],"setDateLazyTimer");b=null},0))}else b.datepicker("setDate",d)};if(i.lazyDate===t)try{i.lazyDate=c.browser.msie&&9>e.browserVersion||500>c(m).width()&&500>c(m).height()}catch(u){}var a={tabindex:1,tabIndex:1,title:1,"aria-required":1,"aria-invalid":1};if(!i.copyAttrs)i.copyAttrs={};e.extendUNDEFProp(i.copyAttrs,a);g.common=function(b,d,l){Modernizr.formvalidation&&b.bind("firstinvalid",function(c){(e.fromSubmit||!p)&&b.unbind("invalid.replacedwidgetbubble").bind("invalid.replacedwidgetbubble",
function(d){!c.isInvalidUIPrevented()&&!d.isDefaultPrevented()&&(e.validityAlert.showFor(c.target),c.preventDefault(),d.preventDefault());b.unbind("invalid.replacedwidgetbubble")})});var f,g,h=c("input, span.ui-slider-handle",d),k=b[0].attributes;for(f in i.copyAttrs)if((g=k[f])&&g.specified)a[f]&&h[0]?h.attr(f,g.nodeValue):d[0].setAttribute(f,g.nodeValue);g=b.attr("id");f=i.calculateWidth?{css:{marginRight:b.css("marginRight"),marginLeft:b.css("marginLeft")},outerWidth:b.outerWidth()}:{};f.label=
g?c('label[for="'+g+'"]',b[0].form):v;g=e.getID(f.label);d.addClass(b[0].className);e.addShadowDom(b,d,{data:l||{},shadowFocusElement:c("input.input-datetime-local-date, span.ui-slider-handle",d)[0],shadowChilds:h});b.after(d).hide();b[0].form&&c(b[0].form).bind("reset",function(c){c.originalEvent&&!c.isDefaultPrevented()&&setTimeout(function(){b.prop("value",b.prop("value"))},0)});1==d.length&&!c("*",d)[0]&&(d.attr("aria-labelledby",g),f.label.bind("click",function(){d.focus();return!1}));return f};
Modernizr.formvalidation&&["input","form"].forEach(function(c){var d=e.defineNodeNameProperty(c,"checkValidity",{prop:{value:function(){p=!0;var c=d.prop._supvalue.apply(this,arguments);p=!1;return c}}})});if(!s.date||i.replaceUI){var k=function(b,d,a,f){var g,h,k=function(){q.dpDiv.unbind("mousedown.webshimsmousedownhandler");h=g=!1},q=d.bind("focusin",function(){k();q.dpDiv.unbind("mousedown.webshimsmousedownhandler").bind("mousedown.webshimsmousedownhandler",function(){g=!0})}).bind("focusout blur",
function(c){g&&(h=!0,c.stopImmediatePropagation())}).datepicker(c.extend({onClose:function(){h&&d.not(":focus")?(k(),d.trigger("focusout"),d.triggerHandler("blur")):k()}},n,i.datepicker,b.data("datepicker"))).bind("change",a).data("datepicker");q.dpDiv.addClass("input-date-datepicker-control");f&&e.triggerDomUpdate(f[0]);["disabled","min","max","value","step"].forEach(function(c){var d=b.prop(c);""!==d&&("disabled"!=c||!d)&&b.prop(c,d)});return q};g.date=function(b){if(c.fn.datepicker){var d=c('<input class="input-date" type="text" />'),
a=this.common(b,d,g.date.attrs),e=k(b,d,function(a){g.date.blockAttr=!0;var e;if(i.lazyDate){var l=c.data(d[0],"setDateLazyTimer");l&&(clearTimeout(l),c.removeData(d[0],"setDateLazyTimer"))}try{e=(e=c.datepicker.parseDate(d.datepicker("option","dateFormat"),d.prop("value")))?c.datepicker.formatDate("yy-mm-dd",e):d.prop("value")}catch(q){e=d.prop("value")}b.prop("value",e);g.date.blockAttr=!1;a.stopImmediatePropagation();f(b[0],"input");f(b[0],"change")});a.css&&(d.css(a.css),a.outerWidth&&d.outerWidth(a.outerWidth),
e.trigger[0]&&o(d,e.trigger))}};g.date.attrs={disabled:function(b,d,a){c.prop(d,"disabled",!!a)},min:function(b,d,a){try{a=c.datepicker.parseDate("yy-mm-dd",a)}catch(e){a=!1}a&&c(d).datepicker("option","minDate",a)},max:function(b,d,a){try{a=c.datepicker.parseDate("yy-mm-dd",a)}catch(e){a=!1}a&&c(d).datepicker("option","maxDate",a)},value:function(b,d,a){if(!g.date.blockAttr){try{var e=c.datepicker.parseDate("yy-mm-dd",a)}catch(f){e=!1}e?r(c(d),e):c.prop(d,"value",a)}}}}if(!s.range||i.replaceUI)g.range=
function(b){if(c.fn.slider){var d=c('<span class="input-range"><span class="ui-slider-handle" role="slider" tabindex="0" /></span>'),a=this.common(b,d,g.range.attrs);c("span",d).attr("aria-labelledby",a.label.attr("id"));a.label.bind("click",function(){c("span",d).focus();return!1});a.css&&(d.css(a.css),a.outerWidth&&d.outerWidth(a.outerWidth));d.slider(c.extend(!0,{},i.slider,b.data("slider"))).bind("slide",function(c,d){if(c.originalEvent)g.range.blockAttr=!0,b.prop("value",d.value),g.range.blockAttr=
!1,f(b[0],"input"),f(b[0],"change")});["disabled","min","max","step","value"].forEach(function(d){var a=b.attr(d),e;"value"==d&&!a&&(e=b.getShadowElement())&&(a=(c(e).slider("option","max")-c(e).slider("option","min"))/2);null!=a&&b.attr(d,a)})}},g.range.attrs={disabled:function(b,d,a){a=!!a;c(d).slider("option","disabled",a);c("span",d).attr({"aria-disabled":a+"",tabindex:a?"-1":"0"})},min:function(b,d,a){a=a?1*a||0:0;c(d).slider("option","min",a);c("span",d).attr({"aria-valuemin":a})},max:function(a,
d,e){e=e||0===e?1*e||100:100;c(d).slider("option","max",e);c("span",d).attr({"aria-valuemax":e})},value:function(a,d,e){e=c(a).prop("valueAsNumber");isNaN(e)||(g.range.blockAttr||c(d).slider("option","value",e),c("span",d).attr({"aria-valuenow":e,"aria-valuetext":e}))},step:function(a,d,e){e=e&&c.trim(e)?1*e||1:1;c(d).slider("option","step",e)}};if(!e.bugs.valueAsNumberSet&&(i.replaceUI||!Modernizr.inputtypes.date||!Modernizr.inputtypes.range))m=function(){e.data(this,"hasShadow")&&c.prop(this,"value",
c.prop(this,"value"))},e.onNodeNamesPropertyModify("input","valueAsNumber",m),e.onNodeNamesPropertyModify("input","valueAsDate",m);c.each(["disabled","min","max","value","step"],function(c,a){e.onNodeNamesPropertyModify("input",a,function(c){var b=e.data(this,"shadowData");if(b&&b.data&&b.data[a]&&b.nativeElement===this)b.data[a](this,b.shadowElement,c)})});if(!i.availabeLangs)i.availabeLangs="af ar ar-DZ az bg bs ca cs da de el en-AU en-GB en-NZ eo es et eu fa fi fo fr fr-CH gl he hr hu hy id is it ja ko kz lt lv ml ms nl no pl pt-BR rm ro ru sk sl sq sr sr-SR sv ta th tr uk vi zh-CN zh-HK zh-TW".split(" ");
m=function(){c.datepicker&&(e.activeLang({langObj:c.datepicker.regional,module:"form-number-date-ui",callback:function(a){a=c.extend({},n,a,i.datepicker);c.datepicker.setDefaults(a);a.dateFormat&&i.datepicker.dateFormat!=a.dateFormat&&c("input.hasDatepicker").filter(".input-date, .input-datetime-local-date").datepicker("option","dateFormat",a.dateFormat)}}),c(j).unbind("jquery-uiReady.langchange input-widgetsReady.langchange"))};c(j).bind("jquery-uiReady.langchange input-widgetsReady.langchange",
m);m();(function(){var a=function(){var a={};return function(d){return d in a?a[d]:a[d]=c('<input type="'+d+'" />')[0].type===d}}();if(!a("number")){var d=e.cfg["forms-ext"],g=e.inputTypes,i=function(a,d,b){b=b||{};if(!("type"in b))b.type=c.prop(a,"type");if(!("step"in b))b.step=e.getStep(a,b.type);if(!("valueAsNumber"in b))b.valueAsNumber=g[b.type].asNumber(c.prop(a,"value"));var f="any"==b.step?g[b.type].step*g[b.type].stepScaleFactor:b.step;e.addMinMaxNumberToCache("min",c(a),b);e.addMinMaxNumberToCache("max",
c(a),b);if(isNaN(b.valueAsNumber))b.valueAsNumber=g[b.type].stepBase||0;if("any"!==b.step&&(a=Math.round(1E7*((b.valueAsNumber-(b.minAsnumber||0))%b.step))/1E7)&&Math.abs(a)!=b.step)b.valueAsNumber-=a;a=b.valueAsNumber+f*d;return a=!isNaN(b.minAsNumber)&&a<b.minAsNumber?b.valueAsNumber*d<b.minAsNumber?b.minAsNumber:isNaN(b.maxAsNumber)?b.valueAsNumber:b.maxAsNumber:!isNaN(b.maxAsNumber)&&a>b.maxAsNumber?b.valueAsNumber*d>b.maxAsNumber?b.maxAsNumber:isNaN(b.minAsNumber)?b.valueAsNumber:b.minAsNumber:
Math.round(1E7*a)/1E7};e.modules["form-number-date-ui"].getNextStep=i;var k=function(a,b,d){if(!a.disabled&&!a.readOnly&&!c(d).hasClass("step-controls")&&(c.prop(a,"value",g[b].numberToString(i(a,c(d).hasClass("step-up")?1:-1,{type:b}))),c(a).unbind("blur.stepeventshim"),f(a,"input"),j.activeElement)){if(j.activeElement!==a)try{a.focus()}catch(e){}setTimeout(function(){if(j.activeElement!==a)try{a.focus()}catch(b){}c(a).one("blur.stepeventshim",function(){f(a,"change")})},0)}};if(d.stepArrows){var h=
{set:function(){var a=e.data(this,"step-controls");if(a)a[this.disabled||this.readonly?"addClass":"removeClass"]("disabled-step-control")}};e.onNodeNamesPropertyModify("input","disabled",h);e.onNodeNamesPropertyModify("input","readonly",c.extend({},h))}var m={38:1,40:-1};e.addReady(function(h,j){d.stepArrows&&c("input",h).add(j.filter("input")).each(function(){var h=c.prop(this,"type");if(g[h]&&g[h].asNumber&&d.stepArrows&&!(!0!==d.stepArrows&&!d.stepArrows[h]||a(h)||c(j).hasClass("has-step-controls"))){var j=
this,n=c('<span class="step-controls" unselectable="on"><span class="step-up" /><span class="step-down" /></span>').insertAfter(j).bind("selectstart dragstart",function(){return!1}).bind("mousedown mousepress",function(a){k(j,h,a.target);return!1}).bind("mousepressstart mousepressend",function(a){c(a.target)["mousepressstart"==a.type?"addClass":"removeClass"]("mousepress-ui")}),q=function(a,b){if(!j.disabled&&!j.readOnly)return c.prop(j,"value",g[h].numberToString(i(j,b,{type:h}))),f(j,"input"),!1},
p=c(j).addClass("has-step-controls").attr({readonly:j.readOnly,disabled:j.disabled,autocomplete:"off",role:"spinbutton"}).bind(c.browser.msie?"keydown":"keypress",function(a){if(!j.disabled&&!j.readOnly&&m[a.keyCode])return c.prop(j,"value",g[h].numberToString(i(j,m[a.keyCode],{type:h}))),f(j,"input"),!1});c.fn.mwheelIntent?p.add(n).bind("mwheelIntent",q):p.bind("focus",function(){p.add(n).unbind(".mwhellwebshims").bind("mousewheel.mwhellwebshims",q)}).bind("blur",function(){c(j).add(n).unbind(".mwhellwebshims")});
e.data(j,"step-controls",n);d.calculateWidth&&(o(p,n),n.css("marginTop",(p.outerHeight()-n.outerHeight())/2))}})})}})();e.addReady(function(a,d){c(j).bind("jquery-uiReady.initinputui input-widgetsReady.initinputui",function(){if(c.datepicker||c.fn.slider){if(c.datepicker&&!n.dateFormat)n.dateFormat=c.datepicker._defaults.dateFormat;g(a,d)}c.datepicker&&c.fn.slider?c(j).unbind(".initinputui"):e.modules["input-widgets"].src||e.warn('jQuery UI Widget factory is already included, but not datepicker or slider. configure src of $.webshims.modules["input-widgets"].src')})})});
